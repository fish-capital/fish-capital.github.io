<div class="ticker-tape" aria-hidden="true">
  <div class="ticker-track" id="ticker-track">
    <span class="ticker-item">Loading market data...</span>
  </div>
</div>

<script>
(function() {
  const coins = 'bitcoin,ethereum,solana,dogecoin';
  const symbols = { bitcoin: 'BTC', ethereum: 'ETH', solana: 'SOL', dogecoin: 'DOGE' };
  const url = 'https://api.coingecko.com/api/v3/simple/price?ids=' + coins + '&vs_currencies=usd&include_24hr_change=true';

  fetch(url)
    .then(r => r.json())
    .then(data => {
      let items = '';
      for (const [id, vals] of Object.entries(data)) {
        const sym = symbols[id] || id.toUpperCase();
        const price = vals.usd >= 1 ? vals.usd.toLocaleString('en-US', {maximumFractionDigits: 2}) : vals.usd.toFixed(4);
        const change = (vals.usd_24h_change || 0).toFixed(2);
        const cls = change >= 0 ? 'positive' : 'negative';
        const sign = change >= 0 ? '+' : '';
        items += '<span class="ticker-item ' + cls + '">' + sym + ' $' + price + ' ' + sign + change + '%</span>';
      }
      // Duplicate for seamless scroll
      const track = document.getElementById('ticker-track');
      if (track && items) track.innerHTML = items + items;
    })
    .catch(() => {
      const track = document.getElementById('ticker-track');
      if (track) track.innerHTML = '<span class="ticker-item">Market data unavailable</span>';
    });
})();
</script>

<header class="site-header">
  <div class="header-inner">
    <div class="brand">
      <a href="{{ '/' | relative_url }}" class="brand-link">
        <div class="brand-icon">
          <svg viewBox="0 0 48 48" class="fish-logo" xmlns="http://www.w3.org/2000/svg">
            <path d="M12 24 C12 16, 22 12, 30 16 C34 18, 36 22, 36 24 C36 26, 34 30, 30 32 C22 36, 12 32, 12 24Z" fill="none" stroke="#2e8aab" stroke-width="1.5"/>
            <path d="M30 16 C34 12, 40 14, 38 20" fill="none" stroke="#2e8aab" stroke-width="1.5"/>
            <path d="M30 32 C34 36, 40 34, 38 28" fill="none" stroke="#2e8aab" stroke-width="1.5"/>
            <circle cx="18" cy="23" r="1.5" fill="#2e8aab"/>
            <path d="M22 18 C24 16, 28 17, 29 19" fill="none" stroke="#2e8aab" stroke-width="0.8" opacity="0.4"/>
            <path d="M22 30 C24 32, 28 31, 29 29" fill="none" stroke="#2e8aab" stroke-width="0.8" opacity="0.4"/>
          </svg>
        </div>
        <div class="brand-text">
          <h1 class="brand-name">Quant Fish Capital Management</h1>
          <p class="brand-tagline">{{ site.tagline }}</p>
        </div>
      </a>
    </div>
    <nav class="main-nav" aria-label="Main navigation">
      <button class="nav-toggle" aria-label="Toggle navigation" aria-expanded="false">
        <span></span><span></span><span></span>
      </button>
      <ul class="nav-list">
        <li><a href="{{ '/' | relative_url }}" {% if page.url == '/' %}class="active"{% endif %}>Home</a></li>
        <li><a href="{{ '/performance/' | relative_url }}" {% if page.url == '/performance/' %}class="active"{% endif %}>Fund Performance</a></li>
        <li><a href="{{ '/thesis/' | relative_url }}" {% if page.url == '/thesis/' %}class="active"{% endif %}>Investment Thesis</a></li>
        <li><a href="{{ '/about/' | relative_url }}" {% if page.url == '/about/' %}class="active"{% endif %}>About Quant Fish</a></li>
      </ul>
    </nav>
  </div>
</header>
